@model minesweepers.Models.Search
@{
	ViewBag.Title = "Index";
}

<style>
    .ui-autocomplete-loading {
        background: white url('http://jqueryui.com/resources/demos/autocomplete/images/ui-anim_basic_16x16.gif') right center no-repeat;
    }
    </style>
    <script>
    	$(function () {

    		function monkeyPatchAutocomplete() {

    			// don't really need this, but in case I did, I could store it and chain
    			var oldFn = $.ui.autocomplete.prototype._renderItem;

    			$.ui.autocomplete.prototype._renderItem = function (ul, item) {
    				var re = new RegExp("^" + this.term);
    				var t = item.label.replace(re, "<span style='font-weight:bold;'>" +
                  this.term +
                  "</span>");
    				return $("<li></li>")
              .data("item.autocomplete", item)
              .append("<a>" + t + "</a>")
              .appendTo(ul);
    			};
    		}

    		monkeyPatchAutocomplete();

    		$("#Query").autocomplete({
    			source: "Home/AutoComplete",
    			minLength: 2
    		});
    	});
    </script>

<h2>
	Index</h2>
@using (Html.BeginForm())
{
	@Html.ValidationSummary(true)

	<fieldset>
		<legend>Search</legend>
		<div class="editor-label">
			@Html.LabelFor(model => model.Query)
		</div>
		<div class="editor-field">
			@Html.EditorFor(model => model.Query)
			@Html.ValidationMessageFor(model => model.Query)
		</div>
		<br /><br /><br /><br />
		<p>
			<input type="submit" value="Create" />
		</p>
	</fieldset>
	
}